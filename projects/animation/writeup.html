<head>
    <title> COS426 Assignment 4 &mdash; Animation &mdash; Writeup</title>
    <link href="css/style.css" type="text/css" rel="stylesheet"/>
</head>

<body>
    <script src="js/student.js"> </script>
    <script src="js/writeup.js"> </script>
    <div class="top">
    <div class="main_div">

        <h1> <div class=assignment>COS426 Assignment 4</div>Animation &mdash; Writeup</h1>
        <div class='selectable'>
        <h2 id='student'></h2>
        
        Features Implemented:
<ul>
<li>(1.0) <a href='#Euler'>Euler</a></li>
<li>(1.0) <a href='#Sphere+source'>Sphere source</a></li>
<li>(1.0) <a href='#Animated+mesh'>Animated mesh</a></li>
<li>(1.0) <a href='#Uniform+distribution'>Uniform distribution</a></li>
<li>(1.0) <a href='#Ground+plane'>Ground plane</a></li>
<li>(1.0) <a href='#Axis+box'>Axis box</a></li>
<li>(1.0) <a href='#Sphere+collision'>Sphere collision</a></li>
<li>(2.0) <a href='#Spring+system'>Spring system</a></li>
<li>(3.0) <a href='#Your+system'>Your system</a></li>
<li>(1.0) <a href='#Rendering'>Rendering</a></li>
<li>(1.0) <a href='#Art'>Art</a></li>
        </ul></div>

<p><hr><p><a name='Euler'></a><h2>Euler</h2><p><hr><p>
Euler calculates a net acceleration based on the force of gravity and accelerators and uses that to update the velocity. Particles move past the attractor, though, so that's kind of sketchy. :(
<br>
<img src='results/attractor.png'>
<p><hr><p><a name='Sphere+source'></a><h2>Sphere source</h2><p><hr><p>
Using the algorithm described in the lecture slides, particles randomly pop out of places on the sphere. Also, each time you refresh the page, you'll see particles of a new color and size! You can view this in action on the "basic" animation.
<p>
<img src='results/basic.png'></p>

<p><hr><p><a name='Animated+mesh'></a><h2>Animated mesh</h2><p><hr><p>
From the array of faces, I use Math.random to pick a random face index. Then, I use (a + random * (b - a) + random * (c - a)) to find a random location on the face, where a, b, and c are the three vertices. <p><img src='results/pony.png'></p>

<p><hr><p><a name='Uniform+distribution'></a><h2>Uniform distribution</h2><p><hr><p>
This was my valiant attempt to implement <a href="http://mathworld.wolfram.com/TrianglePointPicking.html">this</a> Wolfram Alpha link. Sadly everything was showing up weirdly, but if you look at the comments in the animate initializer, you'll see that I at least tried. Or, we could spin this as my attempt to make a defecating party pony.
<p><img src = 'results/sad-party-pony.png'></p>

<p><hr><p><a name='Ground+plane'></a><h2>Ground plane</h2><p><hr><p>
Two options, sink or bounce. If sink, then as soon as ax + by + cz <= w, kill the particle. If bounce, we take advantage of the fact that the ground plane is facing the y-axis and just make sure that the direction vector is positive (heads back up again).
<p>Fountain sink:<br><img src='results/fountain-sink.png'></p>
<p>Fountain bounce:<br><img src='results/fountain-bounce.png'></p> (I guess you should probably just view the animation; the difference in the photos is that the particles in bounce move away from the fountain whereas the sink ones just die.)

<p><hr><p><a name='Axis+box'></a><h2>Axis box</h2><p><hr><p>
Similar to the ground plane implementation, except instead of ax + by + cz <= w as the constraint where we kill the particle, we instead check if the position is within the bounds of the min, max values of the box. If so, then we kill the particle (or bounce it), accordingly. Oh, by the way, the boxes kind of have to be axis-aligned. And we're assuming +y is up.
<p>Here's the demo on some stairs: (You can tell it kind of works because nothing falls out from under the box (sink) and, well, bounce is kind of obvious)<br>
    <img src='results/stairs.png'></p>

<p><hr><p><a name='Sphere+collision'></a><h2>Sphere collision</h2><p><hr><p>
This works; when the cloth hits the sphere, the position is updated to that on the sphere and the velocity is set to zero. 
<p><hr><p><a name='Spring+system'></a><h2>Spring system</h2><p><hr><p>
This, as you can tell by art, did not work as well. I tried to sum up the Hooke's Law forces on the four sides. 
<p><hr><p><a name='Your+system'></a><h2>Your system</h2><p><hr><p>
So before I had this really cool temple idea, but then I realized I needed to test my axis box stairs and I was kind of too lazy to switch it back. GG.
<img src='results/stairs.png'></p>

<p><hr><p><a name='Rendering'></a><h2>Rendering</h2><p><hr><p>
The basic sphere turns out different color and size particles each time you refresh it! Also, fountain bounce emits different shades of grey particles each refresh. You could even say that it produces fifty shades of gray. Also, the party pony is kind of excellent.<br>
<img src='results/party-pony.png'>

<p><hr><p><a name='Art'></a><h2>Art</h2><p><hr><p>
I didn't know it was possible to mess something up so badly, yet here this is. The cloth descends upon the sphere, thinks, "naw, not feeling it," then swoops off into the night. 
<br><img src='results/art.gif'>

    </div>
    </div>
</body>
</html>